{class:mobi.shad.s3lib.gfx.g3d.shaders.SimpleShader$ShaderData,name:glsl_5594.0,type:null,id:null,date:null,author:null,description:null,tags:null,color:false,normal:false,textures:0,vertex:"void main(){\n\tgl_Position = projectionMatrix * modelViewMatrix * a_position;\n}",fragment:"\nfloat segm( float a, float b, float c, float x )\n{\n    return smoothstep(a-c,a,x) - smoothstep(b,b+c,x);\n}\n\nvec3 clover( float x, float y )\n{\n    float a = atan(x,y);\n    float r = sqrt(x*x+y*y);\n    float s = 0.5 + 0.5*sin(3.0*a + iTime);\n    float g = sin(1.57+3.0*a+iTime);\n    float d = 0.3 + 0.6*sqrt(s) + 0.15*g*g;\n    float h = r/d;\n    float f = 1.0-smoothstep( 0.95, 1.0, h );\n    h *= 1.0-0.5*(1.0-h)*smoothstep(0.95+0.05*h,1.0,sin(3.0*a+iTime));\n    return mix( vec3(1.0), vec3(0.4*h,0.2+0.3*h,0.0), f );\n}\n\nvec3 heart( float x, float y )\n{\n    float s = mod( iTime, 2.0 )/2.0;\n    s = 0.9 + 0.1*(1.0-exp(-5.0*s)*sin(50.0*s));\n    x *= s;\n    y *= s;\n    float a = atan(x,y)/3.141593;\n    float r = sqrt(x*x+y*y);\n\n    float h = abs(a);\n    float d = (13.0*h - 22.0*h*h + 10.0*h*h*h)/(6.0-5.0*h);\n\n    float f = smoothstep(d-0.02,d,r);\n    float g = pow(1.0-clamp(r/d,0.0,1.0),0.25);\n    return mix(vec3(0.5+0.5*g,0.2,0.1),vec3(1.0),f);\n}\n\nvec3 yinyan( float x, float y )\n{\n    float nx = x;\n    float ny = y;\n    x = 1.5*(nx*cos(0.2*iTime) - ny*sin(0.2*iTime));\n    y = 1.5*(nx*sin(0.2*iTime) + ny*cos(0.2*iTime));\n    float h = x*x + y*y;\n    float d = abs(y)-h;\n    float a = d-0.23;\n    float b = h-1.00;\n    float c = sign(a*b*(y+x + (y-x)*sign(d)));\n\n    c = mix( c, 0.0, smoothstep(0.98,1.00,h) );\n    c = mix( c, 1.0, smoothstep(1.00,1.02,h) );\n    return vec3(c);\n}\n\nvec3 sun( float x, float y )\n{\n    float a = atan(x,y);\n    float r = sqrt(x*x+y*y);\n\n    float s = 0.5 + 0.5*sin(a*17.0+1.5*iTime);\n    float d = 0.5 + 0.2*pow(s,1.0);\n    float h = r/d;\n    float f = 1.0-smoothstep(0.92,1.0,h);\n\n    float b = pow(0.5 + 0.5*sin(3.0*iTime),500.0);\n    vec2 e = vec2( abs(x)-0.15,(y-0.1)*(1.0+10.0*b) );\n    float g = 1.0 - (segm(0.06,0.09,0.01,length(e)))*step(0.0,e.y);\n\n    float t = 0.5 + 0.5*sin(12.0*iTime);\n    vec2 m = vec2( x, (y+0.15)*(1.0+10.0*t) );\n    g *= 1.0 - (segm(0.06,0.09,0.01,length(m)));\n\n    return mix(vec3(1.0),vec3(0.9,0.8,0.0)*g,f);\n}\n\nvoid main(void)\n{\n    vec2 p = (-1.0+2.0*gl_FragCoord.xy/iResolution.xy);\n\n    vec3 col = yinyan(1.0+2.0*p.x,1.0+2.0*p.y);\n    col *= heart( -1.0+2.0*p.x, 1.0+2.0*p.y );\n    col *= sun( -1.0+2.0*p.x, -1.0+2.0*p.y );\n    col *= clover( 1.0+2.0*p.x, -1.0+2.0*p.y );\n    gl_FragColor = vec4(col,1.0);\n\n}"}